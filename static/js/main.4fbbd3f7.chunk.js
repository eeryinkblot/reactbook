(this.webpackJsonpreactbook=this.webpackJsonpreactbook||[]).push([[0],{13:function(t,e,n){},14:function(t,e,n){},15:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n(1),i=n.n(r),o=n(3),s=n.n(o),c=(n(13),n(14),n(4)),l=n(5),d=n(7),h=n(6),u=function(t){Object(d.a)(n,t);var e=Object(h.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this,t)).preSearchData=void 0,a.log=void 0,a.logPointer=void 0,a.toggleSearch=function(t){a.state.search?a.logSetState({search:!1,data:a.preSearchData}):(a.preSearchData=a.state.data,a.logSetState({search:!0}))},a.search=function(t){var e=t.target.value.toLowerCase();e||a.logSetState({data:a.preSearchData});var n=t.target.dataset.index,r=a.preSearchData.filter((function(t){return t[n].toLowerCase().indexOf(e)>-1}));a.logSetState({data:r})},a.sort=function(t){var e=t.target.cellIndex,n=Array.from(a.state.data),r=a.state.sortBy===e&&!a.state.descending,i=n.sort((function(t,n){return r?t[e]<n[e]?1:-1:t[e]>n[e]?1:-1}));a.logSetState({data:i,sortBy:e,descending:r})},a.showEditor=function(t){a.logSetState({edit:{row:parseInt(t.target.dataset.row,10),column:t.target.cellIndex}})},a.save=function(t){t.preventDefault();var e=t.target.firstChild,n=Array.from(a.state.data);a.state.edit&&(n[a.state.edit.row][a.state.edit.column]=e.value),a.logSetState({data:n,edit:null})},a.download=function(t,e){var n="json"===t?JSON.stringify(a.state.data):a.createCSV(),r=window.URL||window.webkitURL,i=new Blob([n],{type:"text/"+t});e.target.href=r.createObjectURL(i),e.target.download="data."+t},a.state={data:t.initialData,sortBy:null,descending:!1,edit:null,search:!1},a.preSearchData=null,a.log=[a.state],a.logPointer=0,a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var t=this;document.onkeydown=function(e){var n=e.altKey,a=e.shiftKey,r=82===e.keyCode,i=90===e.keyCode;n&&a&&r?t.replay():n&&a&&i?t.redo():n&&i&&t.undo()}}},{key:"createCSV",value:function(){return this.state.data.reduce((function(t,e){return t+e.reduce((function(t,n,a){var r=n.replace(/"/g,'""'),i=a<e.length-1?";":"";return"".concat(t,'"').concat(r,'"').concat(i)}),"")+"\n"}),"")}},{key:"render",value:function(){return Object(a.jsxs)("div",{children:[this.renderToolbar(),this.renderTable()]})}},{key:"renderToolbar",value:function(){return Object(a.jsxs)("div",{className:"toolbar",children:[Object(a.jsx)("button",{onClick:this.toggleSearch,children:this.state.search?"Suche beenden":"Suchen"}),Object(a.jsx)("a",{onClick:this.download.bind(this,"json"),href:"data.json",children:"Export als JSON"}),Object(a.jsx)("a",{onClick:this.download.bind(this,"csv"),href:"data.csv",children:"Export als CSV"})]})}},{key:"renderSearch",value:function(){return Object(a.jsx)("tr",{onChange:this.search,children:this.props.headers.map((function(t,e){return Object(a.jsx)("td",{children:Object(a.jsx)("input",{type:"text","data-index":e})},e)}))})}},{key:"renderTable",value:function(){var t=this,e=this.props.headers,n=this.state.data,r=this.state.edit,i=null;i=this.state.descending?" \u2193":" \u2191";var o=e.map((function(e,n){return Object(a.jsxs)("th",{children:[e,t.state.sortBy===n&&i]},n)}));return Object(a.jsxs)("table",{children:[Object(a.jsx)("thead",{onClick:this.sort,children:Object(a.jsx)("tr",{children:o})}),Object(a.jsxs)("tbody",{onDoubleClick:this.showEditor,children:[this.state.search&&this.renderSearch(),n.map((function(e,n){return Object(a.jsx)("tr",{children:e.map((function(e,i){return Object(a.jsxs)("td",{"data-row":n,children:[r&&r.row===n&&r.column===i&&Object(a.jsx)("form",{onSubmit:t.save,children:Object(a.jsx)("input",{type:"text",defaultValue:e})}),r&&(r.row!==n||r.column!==i)&&e,!r&&e]},i)}))},n)}))]})]})}},{key:"logSetState",value:function(t){this.log.push(t),this.logPointer+=1,this.setState(t)}},{key:"replay",value:function(){var t=this;if(1!==this.log.length)var e=-1,n=setInterval((function(){e++,t.setState(t.log[e]),e===t.log.length-1&&clearInterval(n)}),1e3);else console.log("Noch kein Status zur Wiedergabe")}},{key:"undo",value:function(){this.logPointer>0&&(this.logPointer-=1,this.setState(this.log[this.logPointer]))}},{key:"redo",value:function(){this.logPointer<this.log.length-1&&(this.logPointer+=1,this.setState(this.log[this.logPointer]))}}]),n}(i.a.Component),g=[["Buch","Autor","Sprache","ver\xf6ffentlicht","Verk\xe4ufe"],[["Der Herr der Ringe","J. R. R. Tolkien","Englisch","1954-1955","150 Millionen"],["Der kleine Prinz","Antoine de Saint-Exup\xe9ry","Franz\xf6sisch","1943","140 Millionen"],["Harry Potter und der Stein der Weisen","J. K. Rowling","Englisch","1997","107 Millionen"],["Und dann gabs keines mehr","Agatha Christie","Englisch","1939","100 Millionen"],["Der Traum der roten Kammer","C\xe1o Xu\xe8q\xedn","Chinesisch","1754-1791","100 Millionen"],["Der Hobbit","J. R. R. Tolkien","Englisch","1937","100 Millionen"],["Sie","H. Rider Haggard","Englisch","1887","100 Millionen"]]];var f=function(){return Object(a.jsx)("div",{className:"App",children:Object(a.jsx)(u,{headers:g[0],initialData:g[1]})})},b=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,16)).then((function(e){var n=e.getCLS,a=e.getFID,r=e.getFCP,i=e.getLCP,o=e.getTTFB;n(t),a(t),r(t),i(t),o(t)}))};s.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(f,{})}),document.getElementById("root")),b()}},[[15,1,2]]]);
//# sourceMappingURL=main.4fbbd3f7.chunk.js.map