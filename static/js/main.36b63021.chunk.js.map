{"version":3,"sources":["components/Excel.tsx","excelData.ts","components/App.tsx","reportWebVitals.ts","index.tsx"],"names":["Excel","props","preSearchData","log","isReplay","toggleSearch","e_ignore","state","search","setState","data","e","needle","target","value","toLowerCase","index","dataset","filteredData","filter","row","indexOf","sort","column","cellIndex","Array","from","descending","sortBy","sortedData","a","b","showEditor","edit","parseInt","save","preventDefault","input","firstChild","initialData","document","onkeydown","altKey","shiftKey","keyCode","replay","this","renderToolbar","renderTable","onClick","className","onChange","headers","map","_ignore","type","data-index","icon","headerElements","title","onDoubleClick","renderSearch","rowIndex","content","data-row","onSubmit","defaultValue","nextProps","nextState","nextContext","push","console","length","interval","setInterval","clearInterval","React","Component","output","App","excelData","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.36b63021.chunk.js","sourcesContent":["import React from \"react\";\n\nexport default class Excel extends React.Component<any, {\n    data: Array<Array<string>>,\n    sortBy: number | null,\n    descending: boolean,\n    edit: { row: number, column: number } | null,\n    search: boolean,\n}> {\n\n    private preSearchData: any;\n    private log: any;\n    private isReplay: boolean;\n\n    constructor(props: any) {\n        super(props);\n        this.state = {\n            data: props.initialData,\n            sortBy: null,\n            descending: false,\n            edit: null,\n            search: false,\n        };\n\n        this.preSearchData = null;\n        this.log = [this.state];\n        this.isReplay = false;\n    }\n\n    componentDidMount() {\n        document.onkeydown = (e: any) => {\n            if (e.altKey && e.shiftKey && e.keyCode === 82) {\n                this.replay();\n            }\n        };\n    }\n\n    toggleSearch = (e_ignore: any) => {\n        if (this.state.search) {\n            this.setState({\n                search: false,\n                data: this.preSearchData,\n            });\n        } else {\n            this.preSearchData = this.state.data;\n            this.setState({\n                search: true,\n            });\n        }\n    }\n\n    search = (e: any) => {\n        const needle = e.target.value.toLowerCase();\n        if (!needle) {\n            this.setState({data: this.preSearchData});\n        }\n\n        const index = e.target.dataset.index;\n        let filteredData = this.preSearchData.filter((row: any) => {\n            return row[index].toLowerCase().indexOf(needle) > -1;\n        });\n        this.setState({data: filteredData});\n    }\n\n    sort = (e: any) => {\n        const column = e.target.cellIndex;\n        const data = Array.from(this.state.data);\n\n        const descending = this.state.sortBy === column && !this.state.descending;\n        const sortedData = data.sort((a: Array<string>, b: Array<string>) => {\n            return descending\n                ? a[column] < b[column] ? 1 : -1\n                : a[column] > b[column] ? 1 : -1;\n        });\n        this.setState({\n            data: sortedData,\n            sortBy: column,\n            descending: descending,\n        });\n    }\n\n    showEditor = (e: any) => {\n        this.setState({\n            edit: {\n                row: parseInt(e.target.dataset.row, 10),\n                column: e.target.cellIndex,\n            }\n        });\n    }\n\n    save = (e: any) => {\n        e.preventDefault();\n\n        const input = e.target.firstChild;\n        const data = Array.from(this.state.data);\n\n        if (this.state.edit) {\n            data[this.state.edit.row][this.state.edit.column] = input.value;\n        }\n\n        this.setState({\n            data: data,\n            edit: null,\n        });\n    }\n\n    render() {\n        return <div>\n            {this.renderToolbar()}\n            {this.renderTable()}\n        </div>;\n    }\n\n    private renderToolbar() {\n        return <button onClick={this.toggleSearch} className=\"toolbar\">{this.state.search ? 'Suche beenden' : 'Suchen'}</button>;\n    }\n\n    private renderSearch() {\n        return (<tr onChange={this.search}>\n            {this.props.headers.map((_ignore: any, index: number) =>\n                <td key={index}>\n                    <input type=\"text\" data-index={index}/>\n                </td>)}\n        </tr>);\n    }\n\n    private renderTable() {\n        const headers = this.props.headers;\n        const data = this.state.data;\n        const edit = this.state.edit;\n\n        let icon: any = null;\n        if (this.state.descending) {\n            icon = ' \\u2193';\n        } else {\n            icon = ' \\u2191';\n        }\n\n        const headerElements =\n            headers.map((title: string, index: number) =>\n                <th key={index}>{title}{this.state.sortBy === index && icon}</th>\n            );\n\n        return (\n            <table>\n                <thead onClick={this.sort}>\n                <tr>\n                    {headerElements}\n                </tr>\n                </thead>\n                <tbody onDoubleClick={this.showEditor}>\n                {this.state.search && this.renderSearch()}\n                {data.map((row: Array<string>, rowIndex: number) =>\n                    <tr key={rowIndex}>\n                        {row.map((content: string, index: number) =>\n                            <td key={index} data-row={rowIndex}>\n                                {edit && edit.row === rowIndex && edit.column === index &&\n                                <form onSubmit={this.save}>\n                                    <input type=\"text\" defaultValue={content}/>\n                                </form>\n                                }\n                                {edit && (edit.row !== rowIndex || edit.column !== index) && content}\n                                {!edit && content}\n                            </td>\n                        )}\n                    </tr>\n                )}\n                </tbody>\n            </table>\n        );\n    }\n\n    shouldComponentUpdate(nextProps: Readonly<any>, nextState: Readonly<{ data: Array<Array<string>>; sortBy: number | null; descending: boolean; edit: { row: number; column: number } | null; search: boolean }>, nextContext: any): boolean {\n        if (!this.isReplay) {\n            this.log.push(nextState);\n        }\n        console.log(this.log);\n        return true;\n    }\n\n    private replay() {\n        const log: any = Array.from(this.log);\n        if (log.length === 0) {\n            console.log('Noch kein Status zur Wiedergabe');\n            return;\n        }\n\n        this.isReplay = true;\n        let index = -1;\n        let interval = setInterval(() => {\n            index++;\n\n            this.setState(log[index]);\n\n            if (index === log.length - 1) {\n                clearInterval(interval);\n                this.isReplay = false;\n            }\n        }, 1000);\n    }\n\n}","const headers = [\n    \"Buch\", \"Autor\", \"Sprache\", \"veröffentlicht\", \"Verkäufe\"\n];\n\nconst data = [\n    [\"Der Herr der Ringe\", \"J. R. R. Tolkien\", \"Englisch\", \"1954-1955\", \"150 Millionen\"],\n    [\"Der kleine Prinz\", \"Antoine de Saint-Exupéry\", \"Französisch\", \"1943\", \"140 Millionen\"],\n    [\"Harry Potter und der Stein der Weisen\", \"J. K. Rowling\", \"Englisch\", \"1997\", \"107 Millionen\"],\n    [\"Und dann gabs keines mehr\", \"Agatha Christie\", \"Englisch\", \"1939\", \"100 Millionen\"],\n    [\"Der Traum der roten Kammer\", \"Cáo Xuèqín\", \"Chinesisch\", \"1754-1791\", \"100 Millionen\"],\n    [\"Der Hobbit\", \"J. R. R. Tolkien\", \"Englisch\", \"1937\", \"100 Millionen\"],\n    [\"Sie\", \"H. Rider Haggard\", \"Englisch\", \"1887\", \"100 Millionen\"]\n];\n\nconst output = [headers, data];\nexport default output;","import React from 'react';\nimport '../App.css';\nimport Excel from \"./Excel\";\nimport excelData from \"../excelData\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n        <Excel headers={excelData[0]}\n               initialData={excelData[1]} />\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}